import { Meta, Story, Props, ArgsTable, Canvas, Preview } from '@storybook/addon-docs';
import WebcamInput from '../../components/WebcamInput.vue';
import Button from '../../components/Button.vue';

<Meta
	title="Componentes/Forms/WebcamInput"
	component={ WebcamInput }
	parameters={{
		viewMode: 'docs',
		previewTabs: { canvas: { hidden: true }},
		docs: {
			source: {
				language: 'html',
				format:true,
				code: /*html*/
`<cds-webcam-input
	v-model="showModal"
	title="Tirar uma foto"
	variant="dark"
	@on-take-photo="(file) => console.log('Foto tirada', file)"
/>`
			},
		}
	}}
/>

export const Template = (args) => ({
	setup() {
		return { args };
	},
	data() {
		return {
			showModal: false,
		};
	},
	components: { CdsWebcamInput: WebcamInput, CdsButton: Button },
	template: /*html*/ `
		<div class="d-flex justify-content-center">
			<cds-button
				@click="showModal = true"
			>
				Click
			</cds-button>
			<cds-webcam-input
				v-bind="args"
				v-model="showModal"
				variant="dark"
				@on-take-photo="(file) => console.log('Foto tirada', file)"
			/>
		</div>
	`,
});

# WebcamInput

### Um componente para capturar fotos diretamente da webcam do dispositivo, ao capturar uma foto o componente emite um File.

---

<br />

## Quando usar:
- É necessário capturar uma imagem diretamente do dispositivo do usuário, como para envio de documentos ou selfies.
- Deseja-se integrar a captura de imagens com outros fluxos do sistema sem exigir uma aplicação externa.

<br />

## Quando não usar:
- Não há acesso a permissões de câmera no dispositivo do usuário (como em alguns navegadores ou ambientes com restrições).
- É necessário capturar vídeos em vez de imagens estáticas.
- A interface do usuário exige múltiplas interações modais (cascatas ou modais aninhados).

---

<br />

## Preview

<Canvas>
	<Story
		name="WebcamInput"
	>
		{ Template.bind({}) }
	</Story>
</Canvas>

<ArgsTable story="WebcamInput" />